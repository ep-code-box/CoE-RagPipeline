# ===================================================================
# CoE-RagPipeline 통합 환경 설정 파일
# ===================================================================
# 이 파일은 local과 docker 환경을 모두 지원합니다.
# 
# 사용법:
# 1. 로컬 개발: 이 파일을 .env로 복사하여 사용 (기본값)
# 2. Docker 환경: docker-compose.yml에서 환경 변수로 오버라이드
# 
# 환경 변수 우선순위:
# 1. 시스템 환경 변수 (Docker에서 설정)
# 2. 이 파일의 설정값 (로컬 개발용 기본값)
# ===================================================================

# === API 키 사용 정책 ===
# SKAX_API_KEY: ax4 모델(sktax provider) 전용
# OPENAI_API_KEY: OpenAI 서비스(임베딩, GPT 모델 등) 전용

# SKAX API 설정 (메인 LLM용 - ax4 모델)
SKAX_API_BASE=https://guest-api.sktax.chat/v1
SKAX_API_KEY=[SKAX_API_KEY]
SKAX_MODEL_NAME=ax4

# OpenAI API 설정
OPENAI_API_KEY=[OPENAI_API_KEY]
OPENAI_EMBEDDING_MODEL_NAME=text-embedding-3-large

# === 데이터베이스 설정 ===
# 로컬 환경 기본값: localhost:6667
# Docker 환경에서는 docker-compose.yml에서 mariadb:3306으로 오버라이드
DB_HOST=localhost
DB_PORT=6667
DB_USER=coe_user
DB_PASSWORD=coe_password
DB_NAME=coe_db

# === ChromaDB 설정 ===
# 로컬 환경 기본값: localhost:6666
# Docker 환경에서는 docker-compose.yml에서 chroma:8000으로 오버라이드
CHROMA_HOST=localhost
CHROMA_PORT=6666
CHROMA_COLLECTION_NAME=coe_documents

# === Redis 설정 ===
# 로컬 환경 기본값: localhost:6669
# Docker 환경에서는 docker-compose.yml에서 redis:6379로 오버라이드
REDIS_HOST=localhost
REDIS_PORT=6669
REDIS_PASSWORD=coe_redis_password
REDIS_AUTH_DB=1

# === JWT 인증 설정 ===
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# === 보안 설정 ===
ENFORCE_AUTH=false
RATE_LIMIT_PER_MINUTE=60

# === 애플리케이션 환경 ===
# 로컬 환경 기본값: development
# Docker 환경에서는 docker-compose.yml에서 production으로 오버라이드
APP_ENV=development

# === Git 분석 설정 ===
MAX_REPO_SIZE_MB=500
ANALYSIS_TIMEOUT_MINUTES=30

# === 개발 설정 ===
# 로컬 환경 기본값
# Docker 환경에서는 docker-compose.yml에서 오버라이드
DEBUG=true
LOG_LEVEL=DEBUG
RELOAD=true
